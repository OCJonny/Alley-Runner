<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Alley Run</title>
    <link rel="stylesheet" href="styles/styles.css" />
  </head>

  <body>
    <!-- Sound Toggle (always visible) -->
    <button id="soundToggle" onclick="toggleSound()" style="background: none; border: none; padding: 0; position: absolute; top: 10px; right: 10px; z-index: 20; cursor: pointer;">
      <img src="images/sound-on.png" alt="Sound Toggle" id="soundIcon" width="64" height="64">
    </button>

    <!-- ðŸŽ® Title Screen -->
    <div id="titleScreen" class="screen">
      <img
        src="images/Button_Start_Up.png"
        alt="Start Game"
        class="start-button"
        onclick="if(soundEnabled){bgMusic.volume=0;bgMusic.play().then(()=>fadeInMusic(bgMusic))};showMainMenu()"
        onmouseover="this.src='images/Button_Start_Down.png'"
        onmouseout="this.src='images/Button_Start_Up.png'"
      />
    </div>

    <!-- âš¡ Main Menu -->
    <div id="mainMenu" class="screen hidden">
      <div class="overlay"></div>

      <div class="domain-button">
        <img
          src="images/Button_Fire_Up.png"
          onclick="startGame('fire')"
          onmouseover="this.src='images/Button_Fire_Down.png'"
          onmouseout="this.src='images/Button_Fire_Up.png'"
        />
        <div class="domain-stats" id="fireStats"></div>
      </div>

      <div class="domain-button">
        <img
          src="images/Button_Earth_Up.png"
          onclick="startGame('earth')"
          onmouseover="this.src='images/Button_Earth_Down.png'"
          onmouseout="this.src='images/Button_Earth_Up.png'"
        />
        <div class="domain-stats" id="earthStats"></div>
      </div>

      <div class="domain-button">
        <img
          src="images/Button_Water_Up.png"
          onclick="startGame('water')"
          onmouseover="this.src='images/Button_Water_Down.png'"
          onmouseout="this.src='images/Button_Water_Up.png'"
        />
        <div class="domain-stats" id="waterStats"></div>
      </div>

      <div class="domain-button">
        <img
          src="images/Button_Lightning_Up.png"
          onclick="startGame('lightning')"
          onmouseover="this.src='images/Button_Lightning_Down.png'"
          onmouseout="this.src='images/Button_Lightning_Up.png'"
        />
        <div class="domain-stats" id="lightningStats"></div>
      </div>
    </div>

    <!-- ðŸ•¹ï¸ Game Screen -->
    <div id="gameScreen" class="screen hidden">
      <div class="game-container">
        <canvas id="gameCanvas"></canvas>

        <!-- HUD -->
        <div class="hud">
          <div id="livesContainer"></div> <!-- Lives go here -->
          <span id="score">Score: 0</span>
          <span id="highScore">High: 0</span>
        </div>

        <!-- Speed Bar -->
        <div class="speed-container">
          <div id="speedBar"></div>
        </div>

        <!-- Speed Up Text -->
        <div id="speedUpMessage">âš¡ Speed Up!</div>
        
        <!-- Health Message -->
        <div id="healthUpMessage">+1 Health! ðŸ’š</div>
      </div>
    </div>

    <!-- ðŸ§¨ End Game Screen -->
    <div id="endGameScreen" class="screen hidden">
      <img src="images/AlleyRun_logo_red.png" alt="Game Logo" class="logo-small" />
      <img id="defeatSprite" class="defeat-sprite" src="" alt="Defeated Character" />

      <h2>Game Over</h2>
      <p id="finalScore">Your Score: 0</p>
      <p id="beanCountDisplay">Total Beans Collected: 0</p>
      <p id="finalHighScore">High Score: 0</p>

      <img
        src="images/Button_Restart_Up.png"
        alt="Restart Game"
        class="start-button"
        onclick="restartGame()"
        onmouseover="this.src='images/Button_Restart_Down.png'"
        onmouseout="this.src='images/Button_Restart_Up.png'"
      />
    </div>

    <!-- ðŸ§  Scripts -->
    <script src="scripts/game.js" defer></script>
    <script src="scripts/screens.js" defer></script>
  </body>
</html>
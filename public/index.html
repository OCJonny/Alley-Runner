<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Alley Run</title>
    <link rel="stylesheet" href="styles/styles.css" />
    <link rel="icon" type="image/png" href="images/favicon.png" />
  </head>
  <body>
    <!-- 🔊 Sound Toggle (always visible) -->
    <button
      id="soundToggle"
      onclick="toggleSound()"
      style="
        background: none;
        border: none;
        padding: 0;
        position: absolute;
        top: 10px;
        right: 10px;
        z-index: 20;
        cursor: pointer;
      "
    >
      <img
        src="images/sound-on.png"
        alt="Sound Toggle"
        id="soundIcon"
        width="64"
        height="64"
      />
    </button>

    <!-- 🎮 Title Screen -->
    <div id="titleScreen" class="screen">
      <img
        src="images/Button_Start_Up.png"
        alt="Start Game"
        class="start-button"
        onclick="showLoreScreen()"
        onmouseover="this.src='images/Button_Start_Down.png'"
        onmouseout="this.src='images/Button_Start_Up.png'"
      />
      <div class="instructions">
        <p>🎮 Click, Space, or Tap to Jump Over Obstacles</p>
        <p><img src="images/RedBean.png" alt="Red Bean" class="bean-icon"/> Collect Red Beans to Increase Score</p>
        <p><img src="images/GreenBean.png" alt="Green Bean" class="bean-icon"/> Green Beans Give Extra Lives</p>
      </div>
    </div>

    <!-- 📜 Lore Screen -->
    <div id="loreScreen" class="screen hidden">
      <div class="lore-container">
        <h2>Alley Run Lore</h2>
        <p>Once upon a time, in a bustling city filled with vibrant alleys, lived the most daring runners who risked everything for the chance to win glory and gather the most beans!
          Collect red beans to increase your score and green beans to earn extra lives! The speed bar below represents your current pace in the race.
          Beware of the obstacles that will try to stop you in your quest!  Good luck!
        </p>
        <button class="continue-button" onclick="showMainMenu()">Continue</button>
      </div>
    </div>

    <!-- ⚡ Main Menu -->
    <div id="mainMenu" class="screen hidden">
      <div class="overlay"></div>

      <div id="instructionsBox">Choose your domain and run to earn points and collect beans for your team!</div>
      <div class="menu-column">
        <div class="domain-row">
          <img
            src="images/Button_Lightning_Up.png"
            onclick="startGame('lightning')"
            onmouseover="this.src='images/Button_Lightning_Down.png'"
            onmouseout="this.src='images/Button_Lightning_Up.png'"
          />
          <div class="domain-stats" id="lightningStats"></div>
        </div>

        <div class="domain-row">
          <img
            src="images/Button_Fire_Up.png"
            onclick="startGame('fire')"
            onmouseover="this.src='images/Button_Fire_Down.png'"
            onmouseout="this.src='images/Button_Fire_Up.png'"
          />
          <div class="domain-stats" id="fireStats"></div>
        </div>

        <div class="domain-row">
          <img
            src="images/Button_Water_Up.png"
            onclick="startGame('water')"
            onmouseover="this.src='images/Button_Water_Down.png'"
            onmouseout="this.src='images/Button_Water_Up.png'"
          />
          <div class="domain-stats" id="waterStats"></div>
        </div>

        <div class="domain-row">
          <img
            src="images/Button_Earth_Up.png"
            onclick="startGame('earth')"
            onmouseover="this.src='images/Button_Earth_Down.png'"
            onmouseout="this.src='images/Button_Earth_Up.png'"
          />
          <div class="domain-stats" id="earthStats"></div>
        </div>
      </div>
    </div>


    <!-- 🕹️ Game Screen -->
    <div id="gameScreen" class="screen hidden">
      <div class="game-container">
        <canvas id="gameCanvas"></canvas>

        <!-- HUD -->
        <div class="hud">
          <div id="livesContainer"></div>
          <span id="score">Score: 0</span>
          <span id="highScore">High Score: 0</span>
          <span id="beansCollected">Beans Collected: 0</span>
        </div>

        <!-- Speed Bar -->
        <div class="speed-container">
          <div id="speedBar"></div>
        </div>

        <!-- Speed Up Text -->
        <div id="speedUpMessage">⚡ Speed Up!</div>

        <!-- Health Message -->
        <div id="healthUpMessage">+1 Health! 💚</div>
      </div>
    </div>

    <!-- 🧨 End Game Screen -->
    <div id="endGameScreen" class="screen hidden">
      <img id="defeatSprite" class="defeat-sprite" src="" alt="Defeated Character" />

      <h2>Game Over</h2>
      <p id="finalScore">Your Score: 0</p>
      <p id="beanCountDisplay">Total Beans Collected: 0</p>
      <p id="finalHighScore">High Score: 0</p>

      <img
        src="images/Button_Restart_Up.png"
        alt="Restart Game"
        class="start-button"
        onclick="restartGame()"
        onmouseover="this.src='images/Button_Restart_Down.png'"
        onmouseout="this.src='images/Button_Restart_Up.png'"
      />
    </div>

    <!-- 🧠 Scripts -->
    <script src="scripts/game.js" defer></script>
    <script src="scripts/screens.js" defer></script>
  </body>
</html>